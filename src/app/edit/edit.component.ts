import { Component, OnInit } from '@angular/core';
import { FormControl, FormGroup, Validators } from '@angular/forms';
import { DataService } from '../data.service';

@Component({
  selector: 'app-edit',
  templateUrl: './edit.component.html',
  styleUrls: ['./edit.component.css']
})
export class EditComponent implements OnInit {

  visible = true;
  fg = new FormGroup({
    value: new FormControl('171266,102&949800|2&950000|93&1009600|229&1129600|100&1129800|115&1130000|6&1140000|445&1146000|220&1146400|4&1146500|105&1146700|126&1156700|85&1156800|37&1156900|31&1157000|89&1207700|17&1487700|13&1488700|250&1499700|212&1979300|8&3000000000|\n' +
      '171274,650&1129000|1&1149700|5&1149800|12&1150000|4&1797000|8&15000000|4&4000000000|\n' +
      '180732,125126&6300|31540&6500|73000&9700|475&11000|100&325800|\n' +
      '171290,93&399900|4&507000|10&507400|10&557600|15&558000|21&608000|20&777900|105&1084700|10&1800000|24&15000000|4&5100000000|\n' +
      '168589,17&438200|12744&438400|29885&438500|1966&438700|20442&438800|3248&439900|6427&440100|7889&444500|2796&448900|33432&449000|14555&449900|4868&450000|32&451400|47&451600|6&451700|12&451800|4388&452000|116&455000|9841&455500|47&456100|150&456200|4&456300|3&456400|29&456500|2&457200|77&458000|1000&467900|730&468000|7&469000|19&469900|232&480000|11&490100|1&490600|13&491000|203&492000|33&494000|8&494300|492&494600|120&494700|49&494800|38&499700|1150&499900|487&500000|800&599900|303&600000|7882&604500|1800&694500|43&31000000|1&1500008000|4&2600000000|1&10000000000|1&10000008700|\n' +
      '180457,117&35000000|\n' +
      '176811,8&2654000|126&2655000|50&2657800|62&2659900|133&2699900|65&2809000|3&2809500|283&2809800|6&2895800|38&2900300|27&2949800|14&2949900|103&2960000|5&3993600|6&4413600|6&4440400|9&4450400|2&4850400|7&15000000|4&2600000000|\n' +
      '171275,143&1809100|286&1809300|62&1809500|427&1809700|1&1809800|614&1849800|1088&1849900|210&1850000|1034&1900000|1000&1909000|30&1969000|396&2699900|8&15000000|100&390000000|5&4150000000|\n' +
      '171291,876&628000|19&628400|57&629900|11&630000|71&640000|57&667000|44&1600000|20&15000000|4&3900000000|\n' +
      '171370,138&9800|251&10000|21&12500|65&12900|22&13100|21&13300|38&14700|981&14800|310&15000|18&18700|53&18900|13&19000|1&19200|2&19300|177&19500|26&19700|23&19800|356&19900|3&20100|30&22200|1&22400|36&22600|7&25000|20&28500|25&29500|65&29700|7&29900|18&30000|14&1678500|2&2680800|4&3500000000|\n' +
      '171315,10035&364900|1163&365000|3604&365100|6&378200|1728&385100|8&385200|2&385800|776&385900|12044&386000|11&386500|155&387400|349&387500|1486&397000|256&397600|6&397700|10512&400000|622&402300|21&402400|1430&402500|209&408600|127&408700|38&408800|81&408900|113&409000|123&409400|86&409500|203&409900|42&410000|20&412900|4&413000|89&413100|136&413300|188&414000|11&414200|12&414700|803&414900|4&415000|272&415100|848&415300|56&415400|54&415500|216&418000|7&418500|14&418900|32&419000|80&420000|1&420600|200&424800|7&424900|71&425000|19&425700|3&429900|383&430000|7&434900|127&435000|678&438800|46&438900|9&439000|213&439500|14&439600|84&439700|5&439800|93&439900|740&440000|787&450000|759&460000|181&469600|6&469800|97&469900|5&470000|71&479700|20&479800|114&479900|22&480000|487&498500|2933&499000|14&499100|1364&500000|1626&699700|2610&705400|14293&999900|6&1205900|9983&1499900|100&25000000|4&3600000000|\n' +
      '171268,3336&149000|241&149300|249&149400|32&149700|296&149900|610&150000|198&156300|1117&156400|556&157000|60&167000|170&167700|2&168000|48&198000|492&199900|7&200000|4&5100000000|\n' +
      '169701,1203&43000|31&43400|2382&43500|746&44000|5618&44200|894&44300|4006&44500|391&44900|1704&45000|46792&45500|5000&46500|29800&47000|11103&47800|18200&47900|25800&48500|40800&49000|622&59000|4263&60000|3000&68700|19802&77000|9000&77700|25221&99900|63599&100000|935&149000|406&3000000|4&3600000000|\n' +
      '171292,634&249800|98&249900|1088&250000|20&15000000|4&4150000000|\n' +
      '171269,31&138700|40&138900|1&139000|4&149000|100&190500|5&190900|2&193100|50&194800|122&470000|11&15000000|100&490000000|8&4300000000|\n' +
      '171301,384&48500|45&48900|8&49000|250&50000|50&97400|4&4000000000|\n' +
      '171270,1608&2383600|417&2383800|2&2384700|123&2384900|200&2400000|200&2548000|100&3333600|17&6000000|8&15000000|20&99000000|60&490000000|5&1490000000|\n' +
      '171278,598&2989700|30&2989800|67&2989900|26&2990000|372&3000000|39&3007000|3&3008000|15&3025600|30&3056500|200&3136300|100&3175300|60&3990000|2&150000000|33&490000000|4&3000000000|\n' +
      '171349,102&2671200|571&2671400|8&2671800|2038&2672000|197&2672100|257&2672300|2&2695800|15&2696000|42&2696600|8&2697000|2&2697700|3&2698000|557&2698500|293&2698900|250&2699000|372&2699200|16&2699300|16&2699500|3&2699800|24&2699900|11&2749600|320&2898100|10&2898500|40&2899400|1350&3299400|732&3809900|5&3500000000|\n' +
      '171428,6946&694500|2332&794500|2&794900|24&15000000|4&3600000000|\n' +
      '170554,8163&282400|11759&322400|406&323900|451&324000|3636&324300|4449&324400|5985&334400|1245&335100|24&345200|738&345300|13&345400|37&345500|410&348900|3274&350000|20905&379900|10485&384400|20000&398900|206&450000|2562&465000|2487&509900|83&706300|49&22000000|4&2900000000|1&10000004900|1&10000009000|\n' +
      '171263,43&3500|6&5000|5&5500|23&9800|26&9900|5&10000|1368&29900|818&48100|700&105800|20&15000000|100&390000000|4&3700000000|\n' +
      '171271,49&549900|183&550000|4&4350000000|\n' +
      '171350,402&1990000|32&2005600|5&2070200|20&2071800|90&2162900|4&3700000000|\n' +
      '168586,24&286000|24905&287200|13281&287300|1806&287400|517&287500|5586&288000|234&288500|5&297900|20&299900|2417&300000|7&313200|7366&313400|2872&314100|879&314300|8&314500|15&314600|7&314700|23&314800|15&314900|8&319600|1&334700|1000&357200|412&359900|9500&360000|9500&393500|7600&399000|5729&400000|873&477200|11911&484100|2426&500000|3354&515100|2588&547200|1437&550000|3000&557200|127&563000|312&19000000|4&2000000000|1&10000000000|1&10000005500|\n' +
      '171264,5&100000|86&116000|3&116200|1&127100|14&1535900|4&3700000000|\n' +
      '171272,775&1499400|42&1499500|16&1499700|16&1499800|40&1780100|2&1870600|208&1870800|28&1871000|110&1886900|10&1887000|8&1887200|69&2009300|4&4300000000|\n' +
      '171288,303&189800|134&190000|67&197300|910&227300|22&800600|20&15000000|\n' +
      '184090,15&853100|112&913100|1&913200|10&2070200|90&2162900|2&15000000|1&2899993100|4&2900000000|\n' +
      '171351,531&1860000|115&1870000|21&1880000|98&1900000|18&1990000|3&2000000|80&2517300|5&2525400|200&2720100|1&2753600|100&2753700|22&7717200|4&4300000000|\n' +
      '183823,25&209900|48&219900|32&220000|3&1703800|4&3900000000|\n' +
      '171352,150&3005800|29&3006300|318&3046300|26&3046400|123&3046500|4&4350000000|\n' +
      '171289,63&349900|71&359500|10&359700|61&400000|237&1350000|20&15000000|4&4100000000|\n' +
      '183950,51&138000|21&138200|22&138400|4&138600|1&138800|6&139000|4&3600000000|\n' +
      '171287,818&119300|15&119400|5&119500|22&120000|92&120700|686&121400|31&121500|85&123000|13&123700|88&124400|3&125000|247&129000|20&15000000|4&4250000000|\n' +
      '168583,1&210000|33127&450000|15297&470000|22673&500000|9385&520000|4000&535000|15063&559900|3000&580000|9305&600000|10301&609900|14000&620000|8622&640000|3416&659900|867&799900|70&999900|24&10000000|79&28000000|4&4000000000|1&10000000000|1&10000009700|', [
      Validators.required,
      Validators.pattern(/(?:^\d+,(?:\d+&\d+\|)+$\n)*/)
    ])
  })

  constructor(public dataService: DataService) { }

  ngOnInit() {
  }

  onSave() {
    this.dataService.import(this.fg.value.value);
    this.visible = false;
  }
}
