import { Component, OnInit } from '@angular/core';
import { FormControl, FormGroup, Validators } from '@angular/forms';
import { DataService } from '../data.service';

@Component({
  selector: 'app-edit',
  templateUrl: './edit.component.html',
  styleUrls: ['./edit.component.css']
})
export class EditComponent implements OnInit {

  defaultValue = '171266,1712&1193000|126&1350000|252&1390000|398&1400000|241&1500000|1&1609000|297&1990000|312&2000000|26&2067500|31&2500000|100&12000000|1&19000000|8&3480000000|\n' +
    '171274,71&804100|40&1003500|4&1059300|4&1064900|186&1079900|1&1097900|4&1215700|100&4500000|100&18900000|1&19000000|4&3480000000|\n' +
    '171290,25&1409500|217&1719500|28&2079200|10&2080200|200&30000000|4&3480000000|\n' +
    '168589,13626&550000|400&550100|400&550200|400&550300|200&550400|3354&559000|888&559500|7917&559800|2621&559900|1452&560000|400&560100|200&560200|150&563000|5166&564000|1840&564500|1970&565500|4615&580000|1826&584000|179&584500|175&584700|8684&584800|458&584900|766&585000|100&589800|318&589900|27&590000|12&593500|1&594600|187&600000|26&690000|10&740000|1&750000|60&13000000|9&3480000000|\n' +
    '180457,19&12860100|2&12989900|70&12999900|85&13999900|44&14999900|1&16999900|1&18999900|19&19799900|12&19999900|2&1750000000|\n' +
    '176811,32&5673300|118&6000000|140&8000000|3&8270000|53&10000000|40&18900000|2&19000000|20&990000000|4&3480000000|\n' +
    '171275,1999&1600000|675&1608000|37&1662200|87&1765000|9&2009900|126&18600000|200&18700000|1&19000000|100&21000000|5&3480000000|\n' +
    '171291,112&1638400|4&1693700|11&1753600|219&2048000|3&2560000|6&3200000|200&30000000|4&3480000000|\n' +
    '171370,412&4900|28&1576100|13&2003200|8&2071000|100&5500000|20&18900000|1&19000000|4&3480000000|\n' +
    '171315,801&108500|512&108600|306&108800|35&108900|2&109600|51&109800|11&109900|365&110000|53&117800|267&118000|29328&118600|22990&118700|381&118800|33290&118900|11&119000|28&119800|78&119900|44&121800|5&125500|5581&131300|15&131900|800&133400|800&133700|800&135300|800&135400|2&135700|5000&139700|10002&140000|9911&140400|756&144600|94&148600|501&156700|200&167200|20488&177700|200&192200|200&242200|13958&256500|3359&349900|4&3480000000|\n' +
    '171268,436&67300|391&71200|28&137000|5&141400|88&169600|95&355100|120&5500000|100&9900000|1&19000000|4&3480000000|\n' +
    '171276,466&5945900|32&5946000|83&5946200|48&6499900|9&6500000|129&6988600|40&7469900|21&19000000|40&57000000|20&116005900|2&3480000000|\n' +
    '171292,241&170000|4&293300|5&297700|13&298900|1&299600|1&312600|200&30000000|4&3480000000|\n' +
    '171269,22&197400|21&197600|4&211000|100&213400|3&215500|9&227800|1&241300|200&5500000|100&8900000|100&9000000|1&19000000|8&3480000000|\n' +
    '171285,5910&296000|258&306000|2416&370000|274&380000|266&389000|1002&400000|1&19000000|4&3480000000|\n' +
    '184090,9&1202500|22&1442500|151&1531500|70&1532200|13&1650400|10&1693600|44&18900000|1&19000000|4&3480000000|\n' +
    '171270,5875&1820100|1&1838500|394&2260000|80&9000000|97&18900000|1&19000000|200&26000000|5&3480000000|\n' +
    '171278,56&3073800|100&3074700|15&3550900|1&19000000|33&31000000|40&130000000|4&3480000000|\n' +
    '171349,1883&4009700|21&4009800|95&5699800|181&5699900|85&5700000|100&13000000|1&19000000|5&3480000000|\n' +
    '171428,4942&1383100|3340&1383200|20&1383300|520&1393300|525&1433300|5403&1433400|7&1433500|40&16900000|400&17000000|4&3480000000|\n' +
    '170554,17566&160000|38&162400|8946&162500|12&163200|1664&163700|9&163800|12&163900|49&168900|126&169000|4&169900|196&170000|66&175900|10&177000|39&178800|142&178900|644&179000|36&180000|127&189000|14&190000|170&192700|93&192800|5&192900|1362&193000|7578&193800|292&194000|3549&198700|190&198800|6&199000|2734&200000|10&209400|785&209500|150&210000|126&219500|6&220000|6&220100|8&220200|6436&244500|6&248500|45584&262700|240&294500|240&349900|75&354700|240&399900|122019&504900|120&1199900|60&13000000|5&3480000000|\n' +
    '171263,1689&6100|40&6400|5&47800|2&777400|140&7000000|200&18900000|1&19000000|\n' +
    '171271,32&108000|128&298000|93&299900|100&1400000|200&1531500|1&1577300|1&1650400|4&1693600|3&2108500|100&7000000|20&9900000|1&19000000|4&3480000000|\n' +
    '171350,304&1535700|97&1578400|1&1650400|4&1693600|2&2108500|100&15000000|1&19000000|4&3480000000|\n' +
    '168586,998&297400|1011&297500|10484&309900|1410&310000|12237&320000|55&340000|114&345500|244&395500|32&395800|9870&395900|157&396000|142&399900|7&400000|26248&430000|2240&440000|2647&444600|13&444700|235&444800|137&444900|10&445000|37568&450000|161&500000|5&3480000000|\n' +
    '171264,11&7700|46&7800|9&7900|21&8000|1&8300|54&8400|1&56300|60&18900000|1&19000000|40&470000000|4&3480000000|\n' +
    '171272,133&1445800|724&1445900|52&1467900|31&1492100|50&1495800|54&1545200|80&14000000|40&18900000|1&19000000|4&3480000000|\n' +
    '171351,231&700000|20&1185200|69&1591900|20&1594400|7&1676000|146&1738800|7&1990600|40&18900000|1&19000000|40&26000000|4&3480000000|\n' +
    '171267,1591&229900|38&650000|123&702400|54&709400|696&1500000|400&5500000|200&18900000|1&19000000|4&3480000000|\n' +
    '171301,156&8800|32&9900|1&24200|1&137000|4&141400|200&13000000|4&3480000000|\n' +
    '183823,53&250000|13&1218600|200&1357000|3&1436300|2&1559900|1&1560100|1&1640900|44&9000000|1&19000000|4&3480000000|\n' +
    '171289,141&305000|12&455000|46&458000|11&498000|42&689100|1&690100|2&726000|8&764100|200&30000000|4&3480000000|\n' +
    '169701,4837&89900|800&90000|800&90100|400&90200|200&90300|1070&95000|5414&100000|400&100200|275&120000|375&126700|1&968500|18&974300|9950&1005500|4&3480000000|\n' +
    '171273,369&3339500|202&3339600|83&3339700|148&3339800|934&3339900|712&3399900|68&3400000|373&3407600|85&3507600|64&3507700|11&3507800|46&3507900|113&3508000|2&3508200|500&6007900|20&18900000|1&19000000|200&21800000|100&180000000|5&3480000000|\n' +
    '171286,947&118000|452&118800|2&118900|100&123800|256&137000|3628&148100|1&19000000|4&3480000000|\n' +
    '171352,365&2251100|81&2353000|3&2726600|19&2969600|16&3224200|69&18900000|2&19000000|100&23300000|4&3480000000|\n' +
    '171287,13&156500|1&157200|30&338500|200&30000000|4&3480000000|\n' +
    '168583,1122&395000|10416&399000|4065&399900|200&400000|2164&409400|275&409500|2296&410000|84&414800|33&424800|115&424900|63&425000|10&445000|9&449700|20&449800|1365&449900|110003&499900|194&549900|194&599900|7793&866300|97&1399900|5&3480000000|\n' +
    '171288,124&240000|44&249800|105&399600|1&421800|1&424000|1&437200|15&456600|6&484300|200&30000000|';

  visible = true;
  fg = new FormGroup({
    value: new FormControl(this.defaultValue, [
      Validators.required,
      Validators.pattern(/(?:^\d+,(?:\d+&\d+\|)+$\n)*/)
    ])
  })

  constructor(public dataService: DataService) { }

  ngOnInit() {
  }

  onSave() {
    this.dataService.import(this.fg.value.value);
    this.visible = false;
  }
}
