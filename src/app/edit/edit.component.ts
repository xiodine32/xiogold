import { Component, OnInit } from '@angular/core';
import { FormControl, FormGroup, Validators } from '@angular/forms';
import { DataService } from '../data.service';

@Component({
  selector: 'app-edit',
  templateUrl: './edit.component.html',
  styleUrls: ['./edit.component.css']
})
export class EditComponent implements OnInit {

  visible = true;
  fc = new FormControl('171266,46&1897300|70&1897400|20&1897500|122&1897800|134&1897900|21&1898000|14&1898500|130&1899500|769&1899600|23&1899700|78&1900000|6&1990000|8&2000000|6&2050000|10&2200000|51&2397200|20&2397300|40&2397500|60&2397700|2&2397800|20&2398000|20&2398500|81&2398700|341&2398900|94&2399000|3&2699500|100&2699600|11&2699700|2&2699800|49&2699900|20&3499500|219&3500000|103&4001500|10&5871500|30&30000000|1&4500000000|8&4600000000|\n' +
    '171274,89&764500|12&764700|674&764800|4&784800|2&984800|27&989800|5&989900|100&30000000|1&4500000000|4&4600000000|\n' +
    '171290,473&999900|36&1000000|24&15000000|231&30000000|1&4500000000|4&4600000000|\n' +
    '168589,6262&439600|12382&439700|7604&449700|22600&449800|2771&449900|80003&450000|14325&452000|391&452200|25250&452300|1735&457400|21&457500|8622&457600|97&457700|19747&457800|3348&457900|253&459500|14&459800|11&459900|51&460000|2&465000|12&465500|7245&474900|2000&479900|6&486900|17&487000|1&487900|65&488300|17&488400|131&488600|12&495900|4825&496000|81&496900|27&497000|11363&499000|100&499800|4290&499900|50&546600|6&549600|50&571600|53&621600|50&649900|50&699900|26731&749900|9782&750000|5735&759700|50&849900|50&999900|60&13000000|1&4500000000|9&4600000000|\n' +
    '180457,7&17239900|18&17240000|60&17258800|15&17268800|18&17278800|2&17284900|1&17285000|39&17295000|3&17299900|11&17587000|13&24004400|15&30005000|85&34550000|2&1750000000|\n' +
    '176811,111&989900|90&990000|67&1000000|26&1008500|20&30000000|1&4500000000|4&4600000000|\n' +
    '171275,403&2001900|516&2002000|491&2003000|8&2003900|2&2005300|249&2005600|50&2020500|20&2154100|20&2166900|80&2211000|130&30000000|1&4500000000|9&4600000000|\n' +
    '171291,41&781700|10&781800|63&782000|47&792000|200&30000000|1&4500000000|4&4600000000|\n' +
    '171370,925&5000|20&6300|28&319700|6&1505000|80&30000000|1&4500000000|4&4600000000|\n' +
    '171315,434&288900|40&289000|618&289100|814&289200|9&289500|495&289900|1&290000|336&291100|17&291200|176&294700|1266&294900|589&295000|8645&299000|352&299900|8604&300000|7&300700|36&300900|2032&301000|96&301100|431&302900|2&309900|272&322900|1681&323000|599&326700|575&329900|64&336800|3477&336900|303&337900|1681&340000|600&346300|254&349800|2186&349900|1218&350000|660&360000|822&366600|603&366700|552&371300|17951&373800|333&396300|262&400900|333&446300|2713&450000|4266&500000|15938&549900|565&601200|1&616000|1016&759100|292&860000|40&13000000|1&4500000000|4&4600000000|\n' +
    '171268,63&209800|2057&209900|88&210000|20&230000|20&250000|40&290000|20&300000|65&420100|18&480000|200&13000000|1&4500000000|4&4600000000|\n' +
    '171276,192&8656000|828&8656100|96&8656200|646&8656300|180&8656500|19&8707000|124&8707200|86&8707400|428&8707500|340&8707600|8&8807900|40&8808000|20&8808300|54&8809000|588&8809100|22&8809200|1&9009200|140&9437500|8&9449200|30&9480000|4&9486400|73&9486800|474&9486900|10&9487200|16&9487300|24&9487800|9&9488200|16&9508700|300&9946300|99&9959000|385&9959400|77&9959800|87&9960000|50&9969900|192&9970000|1&23500000|40&130000000|1&4500000000|14&4600000000|\n' +
    '171292,201&329900|311&330000|70&350000|595&431300|200&30000000|1&4500000000|4&4600000000|\n' +
    '171269,26&208500|8&218500|137&218600|19&228600|24&231500|60&249100|9&268600|214&268800|22&278800|140&288800|20&299000|31&300000|21&384700|200&13000000|1&4500000000|8&4600000000|\n' +
    '171285,7958&123000|18&124900|867&125000|20&142000|10&144000|355&146000|236&147800|241&147900|1700&149200|251&149300|50&149400|182&149900|140&13000000|1&4500000000|4&4600000000|\n' +
    '184090,39&809500|10&2469500|10&2476300|81&2476400|90&2498700|40&30000000|1&4500000000|4&4600000000|\n' +
    '171270,20&2833600|82&2833700|43&2833800|6975&3236800|96&30000000|1&4500000000|4&4600000000|\n' +
    '171278,379&3265400|256&3265500|3&3265600|8&3265800|5&3266200|350&3266300|90&3266400|20&3476600|40&130000000|1&4500000000|4&4600000000|\n' +
    '171349,454&2916800|1093&2916900|276&2917000|293&2987000|243&2987100|44&2987200|4&3137300|20&3243500|150&3347200|34&30000000|1&4500000000|5&4600000000|\n' +
    '171428,4250&869800|4841&899800|312&1259800|40&30000000|4&4600000000|\n' +
    '170554,7300&353000|12901&353900|2385&354000|13346&359900|5827&360000|408&364300|2583&364400|502&364500|19995&369000|615&369700|10079&369900|394&370000|1045&378000|26&378400|6697&378500|105&378700|85&378800|190&378900|82&379000|137&389700|44&389800|773&390000|674&399700|480&399800|73&399900|27&400000|150&400400|92&400500|109&400600|3970&408900|133&410500|20&439900|292&450000|11&452000|325&452100|133&460500|6133&549900|10914&592100|133&599900|133&649900|60&13000000|1&4500000000|5&4600000000|\n' +
    '171263,153&4300|123&4400|21&5000|810&25300|5&77900|13&104400|5&232200|10&1204300|200&30000000|1&4500000000|4&4600000000|\n' +
    '171271,24&49900|71&79900|86&80000|79&90000|10&434400|60&13000000|1&4500000000|4&4600000000|\n' +
    '171350,10&771400|118&801400|55&801500|38&801900|8&802100|1&802200|122&932400|100&2498700|20&30000000|1&4500000000|4&4600000000|\n' +
    '168586,4834&368000|20&368200|8337&397000|18894&397500|6150&400000|6152&403400|483&403500|4421&403900|7&404000|165&404900|7478&405000|21850&410000|30&419500|95&420000|2679&422900|161&423000|17&426000|4665&427000|124&427500|29&427800|227&428000|52&428500|570&429000|150&429600|89&449000|150&479600|150&549900|150&599900|26&600100|16&609900|60&13000000|1&4500000000|5&4600000000|\n' +
    '171264,48&3200|47&3600|1&3800|1&5500|2&95300|1&2480000|60&13000000|1&4500000000|4&4600000000|\n' +
    '171272,70&1599500|84&1599800|211&1599900|141&1600000|41&1679900|66&1690000|49&1920200|100&2169100|42&30000000|1&4500000000|4&4600000000|\n' +
    '171351,31&1492400|219&1492500|3&8027000|30&30000000|1&4500000000|4&4600000000|\n' +
    '171267,4760&125000|20&127000|1140&129700|968&130000|3&131100|490&142000|90&142800|200&13000000|1&4500000000|4&4600000000|\n' +
    '171301,25&9500|6&10000|1144&12000|1&13900|5&17800|31&1103900|200&13000000|1&4500000000|4&4600000000|\n' +
    '183823,208&80000|36&114500|72&115000|17&116000|20&117000|37&30000000|1&4500000000|4&4600000000|\n' +
    '171289,154&778300|19&1768200|20&1768300|63&1768400|158&1768500|50&1900000|16&2100000|28&2300000|200&30000000|1&4500000000|4&4600000000|\n' +
    '169701,3008&43800|4300&43900|1233&44000|5888&45000|2532&48000|7889&48500|1584&48600|857&49000|581&49300|67&49700|80&49800|571&49900|63130&50000|55&50500|2755&57800|1081&68000|91823&73700|8435&74600|200&79000|29680&100000|200&104000|5&104600|5114&144900|200&154000|3346&155000|10000&203000|8789&203700|150&13000000|1&4500000000|4&4600000000|\n' +
    '171273,1599&2691800|3999&2691900|1594&2692000|68&2693900|745&2773900|50&2774000|10&2775000|205&2776800|80&2776900|57&2777000|5&2778800|26&2779000|438&2779100|9&2780100|25&2780600|10&2780700|354&2780800|20&2780900|382&2781000|9&2781600|60&2782300|150&2782900|530&2802900|285&2803000|128&2843700|1&2844000|50&2845000|20&2877800|20&2883900|20&2888300|20&2903300|100&30000000|1&4500000000|4&4600000000|\n' +
    '171286,571&172400|1913&172500|3550&175000|231&185000|790&189800|47&189900|140&190000|302&201000|147&211000|9505&211200|168&211700|60&211800|30&212000|127&219700|24&219800|50&239900|14&240000|61&249500|70&249600|74&249700|589&258400|599&289600|345&290000|50&1211200|200&13000000|1&4500000000|4&4600000000|\n' +
    '171352,327&3197900|15&3198000|49&3200000|17&3204900|2&3205000|12&3205500|80&3537600|20&3946300|82&4098400|30&30000000|1&4500000000|4&4600000000|\n' +
    '171287,194&100000|13&110800|34&120800|117&160800|872&355400|200&30000000|1&4500000000|4&4600000000|\n' +
    '168583,1753&579900|2732&580000|4540&590000|1009&594500|1302&594800|7424&594900|245&595000|3116&597000|3521&597400|492&597500|1562&599000|12&599400|26&599500|29&599600|15&599700|3589&599800|15&599900|194&620000|428&624900|481&625000|49&627400|24&627500|5&628500|8179&628800|112&630000|33&649000|134&649900|38&650000|141&660000|5&669600|194&669700|27&679700|5&679800|11&689800|39&690000|128&699900|86&700000|4816&709800|53&709900|40&13000000|1&4500000000|5&4600000000|\n' +
    '171288,223&615900|109&622200|43&627200|842&627300|17&633600|49&640000|15&863300|200&30000000|1&4500000000|', [
    Validators.required,
    Validators.pattern(/(?:^\d+,(?:\d+&\d+\|)+$\n)*/)
  ]);

  constructor(public dataService: DataService) { }

  ngOnInit() {
  }

  onSave() {
    this.dataService.import(this.fc.value);
    this.visible = false;
  }
}
